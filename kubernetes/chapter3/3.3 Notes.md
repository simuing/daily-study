## 3.3 디플로이먼트를 수동으로 스케일 아웃하기

만약 급증하는 요청을 여러 파드가 나누어서 처리할 수 있는 상황이라면 파드의 자원 사용량을 조절하는 것보다 파드의 숫자 자체를 늘리는 것이 효과적일 수 있다. 

```
...(중략)...
spec:
  replicas: 2
...(중략)...
```
우리는 디플로이먼트를 정의할 때 `replicas` 속성을 변경하면 배포된 파드의 숫자를 늘리거나 줄일 수 있다는 사실은 이미 알고 있다. 만약 사용자가 급증하여 두 개의 파드로는 요청을 감당할 수 없는 상황이라면 `replicas`를 더 높은 숫자로 변경한뒤 kubectl apply 명령어를 이용해 파드를 추가 생성하도록 할 수 있다.

만약 `kubectl scale` 명령어를 이용해 파드의 숫자를 즉시 조절할 수도 있다.

```
$ kubectl scale deploy my-deploy --replicas=4
deployment.apps/my-deploy scaled
```

스케일 아웃 상황뿐 아니라 스케일 다운 상황에도 동일하게 동작한다.
```
$ kubectl scale deploy my-deploy --replicas=1
deployment.apps/my-deploy scaled
```

이렇게 `kubectl scale` 명령어를 이용해 디플로이먼트를 수정해도 해당 디플로이먼트의 명세 파일인 `my-deploy.yaml`에는 영향을 주지 않는다. 따라서 이후 버전 업데이트 등의 이유로 명세 파일을 수정한 뒤 다시 적용하면 원래의 파드 숫자로 돌아간다.

이러한 현재 클러스터의 상태와 명세 내역의 불일치는 추ㅜ 혼란을 야기할 수 있으므로 `kubectl scale` 명령어를 이용한 조정이 영구적으로 적용되기를 원한다면 디플로이먼트 명세에도 해당 수정을 반영해주는 것이 좋다.
